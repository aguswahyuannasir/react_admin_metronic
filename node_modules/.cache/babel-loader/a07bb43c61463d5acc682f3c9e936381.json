{"ast":null,"code":"var UINestable = function () {\n  var updateOutput = function (e) {\n    // console.log(e);\n    var list = e.length ? e : $(e.target),\n        output = list.data('output');\n\n    if (window.JSON) {\n      output.val(window.JSON.stringify(list.nestable('serialize'))); //, null, 2));\n    } else {\n      output.val('JSON browser support required for this demo.');\n    }\n  };\n\n  return {\n    //main function to initiate the module\n    init: function () {\n      // activate Nestable for list 1\n      $('#nestable_list_1').nestable({\n        group: 1\n      }).on('change', updateOutput); // activate Nestable for list 2\n\n      $('#nestable_list_2').nestable({\n        group: 1\n      }).on('change', updateOutput); // output initial serialised data\n\n      updateOutput($('#nestable_list_1').data('output', $('#nestable_list_1_output')));\n      updateOutput($('#nestable_list_2').data('output', $('#nestable_list_2_output')));\n      $('#nestable_list_menu').on('click', function (e) {\n        var target = $(e.target),\n            action = target.data('action');\n\n        if (action === 'expand-all') {\n          $('.dd').nestable('expandAll');\n        }\n\n        if (action === 'collapse-all') {\n          $('.dd').nestable('collapseAll');\n        }\n      });\n      $('#nestable_list_3').nestable();\n    }\n  };\n}();","map":null,"metadata":{},"sourceType":"script"}